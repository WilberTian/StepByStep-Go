在Go中，所有的赋值、传参都是**值传递**，也就是值拷贝的方式。

但是，由于`slice`、`map`和`chan`本身是引用类型，所以直接是指针的之拷贝，底层指向仍保持一致。


下面看看Go对象内存布局，帮助理解值传递、引⽤传递等概念。


basic type 

    +-------+
    |   1   |  int
    +-------+
    +--------+
    |  3.14  |  float32
    +--------+
    +---+---+---+---+ 
    | 1 | 2 | 3 | 4 |   [4]int 
    +---+---+---+---+


string

    +---------+---------+ 
    | pointer |  len=5  |   s = "hello" 
    +---------+---------+
        |
        +---+---+---+---+---+ 
        | h | e | l | l | o |   [5]byte 
        +---+---+---+---+---+
            |
        +---------+---------+ 
        | pointer |  len=2  |   sub = s[1:3]
        +---------+---------+
    

struct 

    +---+---+---+---+---+---+---+---+
    | 1 | 2 | 0 | 0 | 3 | 0 | 0 | 0 |   struct { a byte; b byte; c int32 } = { 1, 2, 3 } 
    +---+---+---+---+---+---+---+---+
      a   b           c


    +-----------+-----+
    | pointer a |  b  |     struct { a *int; b int } 
    +-----------+-----+
        |
        +-----+ 
        | int | 
        +-----+


slice

    +---------+---------+---------+
    | pointer |  len=8  |  cap=8  |     x = []int { 0, 1, 2, 3, 4, 5, 6, 7 } 
    +---------+---------+---------+
        |
        +---+---+---+---+---+---+---+---+ 
        | 0 | 1 | 2 | 3 | 4 | 5 | 6 | 7 |   [8]int 
        +---+---+---+---+---+---+---+---+
            |
        +---------+---------+---------+ 
        | pointer |  len=2  |  cap=5  |     y = x[1:3:6] 
        +---------+---------+---------+



interface

    +---------+---------+
    |  *itab  |  *data  |   struct Iface
    +---------+---------+
        |           | 
        +------+    +------+ 
        | Itab |    | data | 
        +------+    +------+


new 

    +---------+
    | pointer |     s = new([3]int)     // 通过new返回的是一个指针
    +---------+
        |
        +---+---+---+ 
        | 0 | 0 | 0 |   [3]int 
        +---+---+---+


make

    +---------+---------+---------+ 
    | pointer |  len=1  |  cap=3  |     slice = make([]int, 1, 3) 
    +---------+---------+---------+
        |
        +---+---+---+ 
        | 0 | 0 | 0 |   [3]int 
        +---+---+---+


    +---------+
    | pointer |     map = make(map[string]int)    // 实际返回的是个指针包装对象，类型为map
    +---------+
        |
        +----------------+
        | hashmap.c Hmap |
        +----------------+

    +---------+
    | pointer |     channel = make(chan int)    // 实际返回的是个指针包装对象，类型为chan
    +---------+
        |
        +----------------+
        |  chan.c Hchan  |
        +----------------+



